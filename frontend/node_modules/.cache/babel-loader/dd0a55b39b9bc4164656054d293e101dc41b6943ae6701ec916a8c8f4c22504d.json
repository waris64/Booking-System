{"ast":null,"code":"import axios from 'axios';\n\n// Use port 4000 to match backend\nconst API_BASE_URL = process.env;\nconsole.log('ðŸ”— API Base URL:', API_BASE_URL);\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Trip API calls\nexport const tripAPI = {\n  // Get all trips\n  getAllTrips: async () => {\n    const response = await api.get('/trips');\n    return response.data;\n  },\n  // Get trip by ID\n  getTripById: async id => {\n    const response = await api.get(`/trips/${id}`);\n    return response.data;\n  },\n  // Create new trip\n  createTrip: async tripData => {\n    const response = await api.post('/trips', tripData);\n    return response.data;\n  },\n  // Update trip\n  updateTrip: async (id, tripData) => {\n    const response = await api.put(`/trips/${id}`, tripData);\n    return response.data;\n  },\n  // Delete trip\n  deleteTrip: async id => {\n    const response = await api.delete(`/trips/${id}`);\n    return response.data;\n  }\n};\n\n// Booking API calls\nexport const bookingAPI = {\n  // Get all bookings\n  getAllBookings: async () => {\n    const response = await api.get('/trips/bookings');\n    return response.data;\n  },\n  // Get booking by ID\n  getBookingById: async id => {\n    const response = await api.get(`/trips/bookings/${id}`);\n    return response.data;\n  },\n  // Create new booking\n  createBooking: async bookingData => {\n    const response = await api.post('/trips/bookings', bookingData);\n    return response.data;\n  },\n  // Update booking status\n  updateBookingStatus: async (id, status) => {\n    const response = await api.put(`/trips/bookings/${id}`, {\n      status\n    });\n    return response.data;\n  },\n  // Cancel booking\n  cancelBooking: async id => {\n    const response = await api.delete(`/trips/bookings/${id}`);\n    return response.data;\n  }\n};\n\n// Error handler\napi.interceptors.response.use(response => response, error => {\n  if (error.code === 'ERR_NETWORK') {\n    console.error('Network Error: Cannot connect to backend. Make sure backend is running on http://localhost:4000');\n  } else {\n    var _error$response;\n    console.error('API Error:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n  }\n  throw error;\n});\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","console","log","api","create","baseURL","headers","tripAPI","getAllTrips","response","get","data","getTripById","id","createTrip","tripData","post","updateTrip","put","deleteTrip","delete","bookingAPI","getAllBookings","getBookingById","createBooking","bookingData","updateBookingStatus","status","cancelBooking","interceptors","use","error","code","_error$response","message"],"sources":["D:/Code/Booking System/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Use port 4000 to match backend\r\nconst API_BASE_URL = process.env\r\n\r\nconsole.log('ðŸ”— API Base URL:', API_BASE_URL);\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Trip API calls\r\nexport const tripAPI = {\r\n  // Get all trips\r\n  getAllTrips: async () => {\r\n    const response = await api.get('/trips');\r\n    return response.data;\r\n  },\r\n\r\n  // Get trip by ID\r\n  getTripById: async (id) => {\r\n    const response = await api.get(`/trips/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Create new trip\r\n  createTrip: async (tripData) => {\r\n    const response = await api.post('/trips', tripData);\r\n    return response.data;\r\n  },\r\n\r\n  // Update trip\r\n  updateTrip: async (id, tripData) => {\r\n    const response = await api.put(`/trips/${id}`, tripData);\r\n    return response.data;\r\n  },\r\n\r\n  // Delete trip\r\n  deleteTrip: async (id) => {\r\n    const response = await api.delete(`/trips/${id}`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Booking API calls\r\nexport const bookingAPI = {\r\n  // Get all bookings\r\n  getAllBookings: async () => {\r\n    const response = await api.get('/trips/bookings');\r\n    return response.data;\r\n  },\r\n\r\n  // Get booking by ID\r\n  getBookingById: async (id) => {\r\n    const response = await api.get(`/trips/bookings/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Create new booking\r\n  createBooking: async (bookingData) => {\r\n    const response = await api.post('/trips/bookings', bookingData);\r\n    return response.data;\r\n  },\r\n\r\n  // Update booking status\r\n  updateBookingStatus: async (id, status) => {\r\n    const response = await api.put(`/trips/bookings/${id}`, { status });\r\n    return response.data;\r\n  },\r\n\r\n  // Cancel booking\r\n  cancelBooking: async (id) => {\r\n    const response = await api.delete(`/trips/bookings/${id}`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Error handler\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.code === 'ERR_NETWORK') {\r\n      console.error('Network Error: Cannot connect to backend. Make sure backend is running on http://localhost:4000');\r\n    } else {\r\n      console.error('API Error:', error.response?.data || error.message);\r\n    }\r\n    throw error;\r\n  }\r\n);\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}