{"ast":null,"code":"import axios from'axios';// Dynamic API URL based on environment\nconst API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:4000/api';console.log('ðŸ”— API Base URL:',API_BASE_URL);console.log('ðŸŒ Environment:',process.env.NODE_ENV);const api=axios.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json'}});// Trip API calls\nexport const tripAPI={// Get all trips\ngetAllTrips:async()=>{const response=await api.get('/trips');return response.data;},// Get trip by ID\ngetTripById:async id=>{const response=await api.get(\"/trips/\".concat(id));return response.data;},// Create new trip\ncreateTrip:async tripData=>{const response=await api.post('/trips',tripData);return response.data;},// Update trip\nupdateTrip:async(id,tripData)=>{const response=await api.put(\"/trips/\".concat(id),tripData);return response.data;},// Delete trip\ndeleteTrip:async id=>{const response=await api.delete(\"/trips/\".concat(id));return response.data;}};// Booking API calls\nexport const bookingAPI={// Get all bookings\ngetAllBookings:async()=>{const response=await api.get('/trips/bookings');return response.data;},// Get booking by ID\ngetBookingById:async id=>{const response=await api.get(\"/trips/bookings/\".concat(id));return response.data;},// Create new booking\ncreateBooking:async bookingData=>{const response=await api.post('/trips/bookings',bookingData);return response.data;},// Update booking status\nupdateBookingStatus:async(id,status)=>{const response=await api.put(\"/trips/bookings/\".concat(id),{status});return response.data;},// Cancel booking\ncancelBooking:async id=>{const response=await api.delete(\"/trips/bookings/\".concat(id));return response.data;}};// Error handler\napi.interceptors.response.use(response=>response,error=>{if(error.code==='ERR_NETWORK'){console.error('Network Error: Cannot connect to backend. Make sure backend is running on http://localhost:4000');}else{var _error$response;console.error('API Error:',((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);}throw error;});export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","console","log","NODE_ENV","api","create","baseURL","headers","tripAPI","getAllTrips","response","get","data","getTripById","id","concat","createTrip","tripData","post","updateTrip","put","deleteTrip","delete","bookingAPI","getAllBookings","getBookingById","createBooking","bookingData","updateBookingStatus","status","cancelBooking","interceptors","use","error","code","_error$response","message"],"sources":["D:/Code/Booking System/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Dynamic API URL based on environment\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:4000/api';\r\n\r\nconsole.log('ðŸ”— API Base URL:', API_BASE_URL);\r\nconsole.log('ðŸŒ Environment:', process.env.NODE_ENV);\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Trip API calls\r\nexport const tripAPI = {\r\n  // Get all trips\r\n  getAllTrips: async () => {\r\n    const response = await api.get('/trips');\r\n    return response.data;\r\n  },\r\n\r\n  // Get trip by ID\r\n  getTripById: async (id) => {\r\n    const response = await api.get(`/trips/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Create new trip\r\n  createTrip: async (tripData) => {\r\n    const response = await api.post('/trips', tripData);\r\n    return response.data;\r\n  },\r\n\r\n  // Update trip\r\n  updateTrip: async (id, tripData) => {\r\n    const response = await api.put(`/trips/${id}`, tripData);\r\n    return response.data;\r\n  },\r\n\r\n  // Delete trip\r\n  deleteTrip: async (id) => {\r\n    const response = await api.delete(`/trips/${id}`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Booking API calls\r\nexport const bookingAPI = {\r\n  // Get all bookings\r\n  getAllBookings: async () => {\r\n    const response = await api.get('/trips/bookings');\r\n    return response.data;\r\n  },\r\n\r\n  // Get booking by ID\r\n  getBookingById: async (id) => {\r\n    const response = await api.get(`/trips/bookings/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Create new booking\r\n  createBooking: async (bookingData) => {\r\n    const response = await api.post('/trips/bookings', bookingData);\r\n    return response.data;\r\n  },\r\n\r\n  // Update booking status\r\n  updateBookingStatus: async (id, status) => {\r\n    const response = await api.put(`/trips/bookings/${id}`, { status });\r\n    return response.data;\r\n  },\r\n\r\n  // Cancel booking\r\n  cancelBooking: async (id) => {\r\n    const response = await api.delete(`/trips/bookings/${id}`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Error handler\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.code === 'ERR_NETWORK') {\r\n      console.error('Network Error: Cannot connect to backend. Make sure backend is running on http://localhost:4000');\r\n    } else {\r\n      console.error('API Error:', error.response?.data || error.message);\r\n    }\r\n    throw error;\r\n  }\r\n);\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}